{"version":3,"file":"static/js/968.a5e2b936.chunk.js","mappings":"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","sources":["Components/Form/photo/style.js","Components/Form/photo/index.js"],"sourcesContent":["/* eslint-disable import/prefer-default-export */\r\nimport styled from 'styled-components';\r\n\r\nimport {\r\n  grayText, darkRedColor, yellowColor, darkBlueColor, lightGrayColor,\r\n  darkGrayColor,\r\n} from '../../../style/colors';\r\n\r\nexport const Container = styled.div`\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 80vw;\r\n        margin-bottom: 15px;\r\n      \r\n`;\r\n\r\nexport const ImageContainer = styled.div`\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 80%;\r\n        margin-top: 10px;\r\n`;\r\nexport const ImageProfile = styled.img`\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 30%;\r\n        min-width: 200px;\r\n        height: auto;\r\n`;\r\nexport const Label = styled.label`\r\n        display: block;\r\n        padding: 15px 70px;\r\n        background-color: ${darkRedColor};\r\n        border-radius: 10px;\r\n        color:  #fff;\r\n        text-align: center;\r\n        width: auto;\r\n        margin-top: 10px;\r\n         cursor: pointer;\r\n\r\n         input {\r\n        display: none;\r\n    }\r\n`;\r\nexport const Form = styled.form`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nheight: 80%;\r\nwidth: 100vmin;\r\npadding: 5px;\r\n`;\r\nexport const ButtonSubmitForm = styled.button`\r\n    width: 15%;\r\n    min-width: 100px;\r\n    height: 50px;\r\n    font-weight: bold;\r\n    border-style: none;\r\n    font-size: 15px;\r\n    border-radius: 15px;\r\n    margin-top: 20px;\r\n    background: ${darkRedColor};\r\n    color: #fff;\r\n    cursor: pointer;\r\n    :hover{\r\n        background: ${darkRedColor};\r\n    }\r\n`;\r\nexport const PhotoContainer = styled.div`\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction:  column;\r\n    height: 30%;\r\n    width: 30%;\r\n`;\r\n","/* eslint-disable no-unused-expressions */\r\n/* eslint-disable no-useless-return */\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport {\r\n  PhotoContainer, ImageProfile, Label, ImageContainer, ButtonSubmitForm, Form,\r\n  Container,\r\n} from './style';\r\nimport * as actionUser from '../../../store/modules/userInfo/actions';\r\nimport urlStorage from '../../../services/urlStoragePhoto';\r\n\r\nexport default function Photo() {\r\n  const defaultPhoto = 'https://digimedia.web.ua.pt/wp-content/uploads/2017/05/default-user-image.png';\r\n  const photoImg = useSelector((state) => state.userInfo.user.Photo);\r\n  const { id } = useSelector((state) => state.userInfo.user);\r\n  const dispatch = useDispatch();\r\n  const [photo, setPhoto] = useState();\r\n  const [profilePic, setProfilePic] = useState(photoImg);\r\n  const hiddenInput = useRef(null);\r\n\r\n  useEffect(() => {\r\n    (photoImg === null || photoImg.display_url === '')\r\n      ? setProfilePic(defaultPhoto)\r\n      : setProfilePic(photoImg.display_url || photoImg);\r\n  }, []);\r\n\r\n  function handleClick() {\r\n    hiddenInput.current.click();\r\n  }\r\n\r\n  function validateImage(e) {\r\n    const reader = new FileReader();\r\n    const imagePic = e.target.files[0];\r\n    if (!imagePic || imagePic.length > 0) return;\r\n    setPhoto(imagePic);\r\n    reader.onload = () => {\r\n      setProfilePic(reader.result);\r\n    };\r\n    reader.readAsDataURL(imagePic);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    try {\r\n      formData.append('image', photo);\r\n      await axios.post(`${urlStorage}`, formData, {\r\n        method: 'POST',\r\n      }).then((res) => {\r\n        const userPhoto = {\r\n          data: res.data.data,\r\n          method: photoImg ? 'put' : 'post',\r\n          id,\r\n        };\r\n        dispatch(actionUser.userRequest(userPhoto));\r\n      });\r\n\r\n      toast.success('SUCCESS!');\r\n    //   alert('Usu√°rio criado com sucesso!');\r\n    } catch (err) {\r\n      toast.error('FAIULURE REGISTER');\r\n      console.log(err);\r\n    }\r\n  }\r\n  return (\r\n    <Container>\r\n      <Form>\r\n        <PhotoContainer>\r\n          <ImageContainer>\r\n            <ImageProfile\r\n              src={profilePic}\r\n              alt=\"foto perfil\"\r\n            />\r\n          </ImageContainer>\r\n          <Label\r\n            htmlFor=\"foto\"\r\n            onClickCapture={() => handleClick()}\r\n          >\r\n            {photo ? photo.name : 'File' }\r\n            <input\r\n              type=\"file\"\r\n              name=\"foto\"\r\n              accept=\"image/png, image/jpeg\"\r\n              ref={hiddenInput}\r\n              onChange={(e) => validateImage(e)}\r\n            />\r\n          </Label>\r\n          <ButtonSubmitForm onClick={(e) => handleSubmit(e)}> Salvar </ButtonSubmitForm>\r\n        </PhotoContainer>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":["Container","styled","div","_templateObject","_taggedTemplateLiteral","ImageContainer","_templateObject2","ImageProfile","img","_templateObject3","Label","label","_templateObject4","darkRedColor","Form","form","_templateObject5","ButtonSubmitForm","button","_templateObject6","PhotoContainer","_templateObject7","Photo","photoImg","useSelector","state","userInfo","user","id","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","photo","setPhoto","_useState3","_useState4","profilePic","setProfilePic","hiddenInput","useRef","_handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","formData","wrap","_context","prev","next","preventDefault","FormData","append","axios","concat","urlStorage","method","then","res","userPhoto","data","actionUser","toast","success","t0","error","console","log","stop","apply","arguments","useEffect","display_url","_jsx","children","_jsxs","src","alt","htmlFor","onClickCapture","current","click","name","type","accept","ref","onChange","reader","FileReader","imagePic","target","files","length","onload","result","readAsDataURL","validateImage","onClick","_x","handleSubmit"],"sourceRoot":""}