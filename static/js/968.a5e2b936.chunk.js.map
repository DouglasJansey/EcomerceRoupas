{"version":3,"file":"static/js/968.a5e2b936.chunk.js","mappings":"kRAQaA,EAAYC,EAAAA,GAAAA,IAAU,4KAStBC,EAAiBD,EAAAA,GAAAA,IAAU,gKAO3BE,EAAeF,EAAAA,GAAAA,IAAU,uLAQzBG,EAAQH,EAAAA,GAAAA,MAAY,8TAGLI,EAAAA,IAYfC,EAAOL,EAAAA,GAAAA,KAAW,sIAQlBM,EAAmBN,EAAAA,GAAAA,OAAa,sTAS3BI,EAAAA,GAIIA,EAAAA,IAGTG,EAAiBP,EAAAA,GAAAA,IAAU,yK,8BC1DzB,SAASQ,IACtB,IACMC,GAAWC,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,SAASC,KAAKL,KAAK,IACzDM,GAAOJ,EAAAA,EAAAA,KAAY,SAACC,GAAK,OAAKA,EAAMC,SAASC,IAAI,IAAjDC,GACFC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,YAAU,eAA7BC,EAAK,KAAEC,EAAQ,KACtB,GAAoCF,EAAAA,EAAAA,UAASR,GAAS,eAA/CW,EAAU,KAAEC,EAAa,KAC1BC,GAAcC,EAAAA,EAAAA,QAAO,MAuBA,aAsB1B,OAtB0B,0BAA3B,WAA4BC,GAAC,4EAIO,OAHlCA,EAAEC,iBACIC,EAAW,IAAIC,SAAW,EAAD,OAE7BD,EAASE,OAAO,QAASV,GAAO,SAC1BW,IAAAA,KAAW,GAAD,OAAIC,EAAAA,GAAcJ,EAAU,CAC1CK,OAAQ,SACPC,MAAK,SAACC,GACP,IAAMC,EAAY,CAChBC,KAAMF,EAAIE,KAAKA,KACfJ,OAAQtB,EAAW,MAAQ,OAC3BK,GAAAA,GAEFC,EAASqB,EAAAA,GAAuBF,GAClC,IAAG,KAAD,EAEFG,EAAAA,GAAAA,QAAc,YAChB,gDAEEA,EAAAA,GAAAA,MAAY,qBACZC,QAAQC,IAAI,EAAD,IAAM,0DAEpB,sBACD,OA5CAC,EAAAA,EAAAA,YAAU,WACM,OAAb/B,GAA8C,KAAzBA,EAASgC,YAC3BpB,EAVe,iFAWfA,EAAcZ,EAASgC,aAAehC,EAC5C,GAAG,KAyCD,SAACV,EAAS,WACR,SAACM,EAAI,WACH,UAACE,EAAc,YACb,SAACN,EAAc,WACb,SAACC,EAAY,CACXwC,IAAKtB,EACLuB,IAAI,mBAGR,UAACxC,EAAK,CACJyC,QAAQ,OACRC,eAAgB,WAjDxBvB,EAAYwB,QAAQC,OAiDuB,EAAC,UAEnC7B,EAAQA,EAAM8B,KAAO,QACtB,kBACEC,KAAK,OACLD,KAAK,OACLE,OAAO,wBACPC,IAAK7B,EACL8B,SAAU,SAAC5B,GAAC,OAtDxB,SAAuBA,GACrB,IAAM6B,EAAS,IAAIC,WACbC,EAAW/B,EAAEgC,OAAOC,MAAM,IAC3BF,GAAYA,EAASG,OAAS,IACnCvC,EAASoC,GACTF,EAAOM,OAAS,WACdtC,EAAcgC,EAAOO,OACvB,EACAP,EAAOQ,cAAcN,GACvB,CA6C6BO,CAActC,EAAE,QAGrC,SAAClB,EAAgB,CAACyD,QAAS,SAACvC,GAAC,OAhDpC,SAE2B,GAAD,+BA8CewC,CAAaxC,EAAE,EAAC,SAAC,mBAK7D,C","sources":["Components/Form/photo/style.js","Components/Form/photo/index.js"],"sourcesContent":["/* eslint-disable import/prefer-default-export */\r\nimport styled from 'styled-components';\r\n\r\nimport {\r\n  grayText, darkRedColor, yellowColor, darkBlueColor, lightGrayColor,\r\n  darkGrayColor,\r\n} from '../../../style/colors';\r\n\r\nexport const Container = styled.div`\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 80vw;\r\n        margin-bottom: 15px;\r\n      \r\n`;\r\n\r\nexport const ImageContainer = styled.div`\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 80%;\r\n        margin-top: 10px;\r\n`;\r\nexport const ImageProfile = styled.img`\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 30%;\r\n        min-width: 200px;\r\n        height: auto;\r\n`;\r\nexport const Label = styled.label`\r\n        display: block;\r\n        padding: 15px 70px;\r\n        background-color: ${darkRedColor};\r\n        border-radius: 10px;\r\n        color:  #fff;\r\n        text-align: center;\r\n        width: auto;\r\n        margin-top: 10px;\r\n         cursor: pointer;\r\n\r\n         input {\r\n        display: none;\r\n    }\r\n`;\r\nexport const Form = styled.form`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nheight: 80%;\r\nwidth: 100vmin;\r\npadding: 5px;\r\n`;\r\nexport const ButtonSubmitForm = styled.button`\r\n    width: 15%;\r\n    min-width: 100px;\r\n    height: 50px;\r\n    font-weight: bold;\r\n    border-style: none;\r\n    font-size: 15px;\r\n    border-radius: 15px;\r\n    margin-top: 20px;\r\n    background: ${darkRedColor};\r\n    color: #fff;\r\n    cursor: pointer;\r\n    :hover{\r\n        background: ${darkRedColor};\r\n    }\r\n`;\r\nexport const PhotoContainer = styled.div`\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction:  column;\r\n    height: 30%;\r\n    width: 30%;\r\n`;\r\n","/* eslint-disable no-unused-expressions */\r\n/* eslint-disable no-useless-return */\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport {\r\n  PhotoContainer, ImageProfile, Label, ImageContainer, ButtonSubmitForm, Form,\r\n  Container,\r\n} from './style';\r\nimport * as actionUser from '../../../store/modules/userInfo/actions';\r\nimport urlStorage from '../../../services/urlStoragePhoto';\r\n\r\nexport default function Photo() {\r\n  const defaultPhoto = 'https://digimedia.web.ua.pt/wp-content/uploads/2017/05/default-user-image.png';\r\n  const photoImg = useSelector((state) => state.userInfo.user.Photo);\r\n  const { id } = useSelector((state) => state.userInfo.user);\r\n  const dispatch = useDispatch();\r\n  const [photo, setPhoto] = useState();\r\n  const [profilePic, setProfilePic] = useState(photoImg);\r\n  const hiddenInput = useRef(null);\r\n\r\n  useEffect(() => {\r\n    (photoImg === null || photoImg.display_url === '')\r\n      ? setProfilePic(defaultPhoto)\r\n      : setProfilePic(photoImg.display_url || photoImg);\r\n  }, []);\r\n\r\n  function handleClick() {\r\n    hiddenInput.current.click();\r\n  }\r\n\r\n  function validateImage(e) {\r\n    const reader = new FileReader();\r\n    const imagePic = e.target.files[0];\r\n    if (!imagePic || imagePic.length > 0) return;\r\n    setPhoto(imagePic);\r\n    reader.onload = () => {\r\n      setProfilePic(reader.result);\r\n    };\r\n    reader.readAsDataURL(imagePic);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    try {\r\n      formData.append('image', photo);\r\n      await axios.post(`${urlStorage}`, formData, {\r\n        method: 'POST',\r\n      }).then((res) => {\r\n        const userPhoto = {\r\n          data: res.data.data,\r\n          method: photoImg ? 'put' : 'post',\r\n          id,\r\n        };\r\n        dispatch(actionUser.userRequest(userPhoto));\r\n      });\r\n\r\n      toast.success('SUCCESS!');\r\n    //   alert('Usu√°rio criado com sucesso!');\r\n    } catch (err) {\r\n      toast.error('FAIULURE REGISTER');\r\n      console.log(err);\r\n    }\r\n  }\r\n  return (\r\n    <Container>\r\n      <Form>\r\n        <PhotoContainer>\r\n          <ImageContainer>\r\n            <ImageProfile\r\n              src={profilePic}\r\n              alt=\"foto perfil\"\r\n            />\r\n          </ImageContainer>\r\n          <Label\r\n            htmlFor=\"foto\"\r\n            onClickCapture={() => handleClick()}\r\n          >\r\n            {photo ? photo.name : 'File' }\r\n            <input\r\n              type=\"file\"\r\n              name=\"foto\"\r\n              accept=\"image/png, image/jpeg\"\r\n              ref={hiddenInput}\r\n              onChange={(e) => validateImage(e)}\r\n            />\r\n          </Label>\r\n          <ButtonSubmitForm onClick={(e) => handleSubmit(e)}> Salvar </ButtonSubmitForm>\r\n        </PhotoContainer>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":["Container","styled","ImageContainer","ImageProfile","Label","darkRedColor","Form","ButtonSubmitForm","PhotoContainer","Photo","photoImg","useSelector","state","userInfo","user","id","dispatch","useDispatch","useState","photo","setPhoto","profilePic","setProfilePic","hiddenInput","useRef","e","preventDefault","formData","FormData","append","axios","urlStorage","method","then","res","userPhoto","data","actionUser","toast","console","log","useEffect","display_url","src","alt","htmlFor","onClickCapture","current","click","name","type","accept","ref","onChange","reader","FileReader","imagePic","target","files","length","onload","result","readAsDataURL","validateImage","onClick","handleSubmit"],"sourceRoot":""}